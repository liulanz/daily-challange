```c++
class Solution {
public:
    int numDecodings(string s) {
        if(s[0] == '0'){
            return 0;
        }
        
        int n = s.size();
        int MOD = 1000000007;
        vector<long long>dp(n);
        
        dp[0] = 1;
        if(s[0] == '*'){
            dp[0] = 9;
        }
        
        for(int i = 1;i < s.size(); i++){
            char c = s[i];
            if(c == '*'){//1 - 9
                if(s[i - 1] == '*'){
                    dp[i] += dp[i - 1] * 9;
                    dp[i] %= MOD;
                    dp[i] += f(dp, i - 2) * 15;
                    dp[i] %= MOD;
                }
                else{
                    int pred = s[i - 1] - '0';
                    dp[i] += dp[i - 1] * 9;
                    dp[i] %= MOD;
                    
                    if(pred == 2){
                        dp[i] += f(dp, i - 2) * 6;
                        dp[i] %= MOD;
                    }
                    else if(pred == 1){
                        dp[i] += f(dp, i - 2) * 9;
                        dp[i] %= MOD;
                    }else{
                       //nothing to do 
                    }
                }
            }
            else{
                int d = c - '0';
                if(d != 0){
                    dp[i] += dp[i - 1] * 1;    
                }
                
                
                if(s[i - 1] == '*'){
                    if(d >= 7){
                        dp[i] += f(dp, i - 2);
                    }
                    else{
                        dp[i] += f(dp, i - 2) * 2;
                        dp[i] %= MOD;
                    }
                }
                else{
                    int pred = s[i - 1] - '0';
                    if(pred == 0){
                        if(d == 0){
                            return 0;
                        }
                    }
                    else if(pred == 1){
                        dp[i] += f(dp, i - 2);
                        dp[i] %= MOD;
                    }
                    else if(pred == 2){
                        if(d <= 6){
                            dp[i] += f(dp, i - 2);
                            dp[i] %= MOD;
                        }
                    }
                }
                
            }
        }
        
        
        return (int)(dp[n - 1]);
    }
    
    long long f(vector<long long>& dp, int i){
        if(i < 0){
            return 1;
        }
        return dp[i];
    }
    
};```
