



# [Kth Smallest Element in a Sorted Matrix](https://leetcode.com/explore/featured/card/july-leetcoding-challenge-2021/608/week-1-july-1st-july-7th/3805/)




#### 题意：
> Kth Smallest Element in a Sorted Matrix





### 思路：
1. 先用binarySearch gusee 一个答案<br/><br/>
2. 我们看看有多少个数小于或等于这个guess，记作cnt<br/><br/>
3. 如果 **cnt >= k**，那当前这个guess 可以作为答案 <br/><br/>
4. 对于找有多少个element 小于或等于 guess，我们可以再使用二分法，因为每个row 都是sort 好的 <br/><br/>







### :bulb:代码 C++ ：
```c++
class Solution {
public:
    int kthSmallest(vector<vector<int>>& mat, int k) {
        int n = mat.size(), m = mat[0].size();
        int l  = mat[0][0], r = mat[n - 1][m - 1];
        int res = -1;
        while(l <= r){
            int mid = l + (r - l)/ 2; 
            if(check(mat, k, mid)){
                res = mid;
                r = mid - 1;
            }
            else{
                l = mid + 1;
            }
        }
        
        return res;
        
    }
    
    bool check(vector<vector<int>>& mat, int k, int mid){//mid : guess answer
        int cnt = 0;
        int n = mat.size(), m = mat[0].size();
        for(int i = 0; i < n; i++){
            int l = 0, r = m - 1;
            int pos = -1;
            while(l <= r){
                int mmid = l + (r - l) / 2;
                if(mat[i][mmid] <= mid){
                    pos = mmid;
                    l = mmid +1;
                }
                else{
                    r = mmid - 1;
                }
            }
            cnt += (pos + 1);
        }
        return cnt >= k;
    }
    ////[1,5,9,10,11,12,13,13,15] k = 8
    //1. use binaysearch to guess a answer
    //2. find how many elemens smaller than this guess number (cnt)
    //3. cnt >=k guess number(mid) can be the answer
    //4. we can do binaysearch in each row to see how many numbers <= guess number in each row
    //5. O(n log (m) log(max))
};
```

### :bulb:代码 Java：
```java
class Solution {
    public int kthSmallest(int[][] mat, int k) {
        int n = mat.length, m = mat[0].length;
        int l = mat[0][0], r = mat[n - 1][m - 1];
        int res = -1;
        while(l <= r){
            int guess = l + (r - l) / 2;
            if(check(mat, k, guess)){
                res = guess;
                r = guess - 1;
            }
            else{
                l = guess + 1;
            }
        }
        return res;
    }
    
    public boolean check(int mat[][], int k, int guess){
        int cnt = 0;
        for(int i = 0; i < mat.length; i++){
            int l = 0, r = mat[0].length - 1;
            int pos = -1;
            while(l <= r){
                int mid = l + (r - l)/2;
                if(mat[i][mid] <= guess){
                    pos = mid;
                    l = mid + 1;
                }
                else{
                    r = mid -1;
                }
            }
            cnt += (pos + 1);
        }
        return cnt >= k;
    }
}
```

### :bulb:代码 Go：
```go
func check(mat [][]int, k int, mid int) bool{
    cnt := 0
    n := len(mat)
    m := len(mat[0])
    
    for i := 0; i < n; i++{
        l := 0
        r := m - 1
        pos := -1
        for l <= r{
            mmid := l + (r - l) / 2
            if mat[i][mmid] <= mid{
                pos = mmid
                l = mmid + 1
            }else{
                r = mmid - 1
            }
        }
        cnt += (pos + 1)
    }
   
    return cnt >= k
}

func kthSmallest(mat [][]int, k int) int {
    n := len(mat)
    m := len(mat[0])
    l := mat[0][0]
    r := mat[n - 1][m - 1]
    res := -1
    for l <= r{
        mid := l + (r - l) / 2
        if check(mat, k, mid){
            res = mid
            r = mid -1
        }else{
            l = mid + 1
        }
    }
    
    return res
}
//goal : find the kth smallest element in the matrix, matrix is sorted
//1. use binaysearch to guess a answer
//2. find how many elemens smaller than this guess number (cnt)
//3. cnt >=k guess number(mid) can be the answer
//4. we can do binaysearch again in each row to see how many numbers <= guess number in each row
//5. O(n log (m) log(max))
```

#### 空间复杂度和时间复杂度：
  - 时间复杂度：O(n log n)
  - 空间复杂度：O(n)
<br/><br/>







